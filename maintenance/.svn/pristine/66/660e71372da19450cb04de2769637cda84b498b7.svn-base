(
 function (window) {
    var self = this;
    var aprilMonth = 3;
    var lentStartDay = 23;
    var lentEndDay = 28;
    
    function redirectToMobileVersionIfMobileBrowserDetectedInternal() {
       if (activeBrowser.browserUtility.isMobile) {
            activeBrowser.browserUtility.redirectToMobileVersion();
       }        
    }

    function detectIfBrowserIsCapableOfCorrectlyDisplayingThisPageInternal() {
        if (activeBrowser.browserUtility.firefox || activeBrowser.browserUtility.ie || activeBrowser.browserUtility.microsoftEdge)
         return false;
        return true;
    }    
    
    function showPageInternal() {
        $(".main").css("visibility", "visible");
    }
    
    function showOnePercentInternal() {
        var today = new Date();
        if(today.getMonth() > aprilMonth)
         $(".jedenProcent").css("visibility", "hidden");        
    }
    
    function showLentEggInternal() {
        var today = new Date();
        if(today.getDate() >= lentStartDay && today.getDate() <= lentEndDay)
         $(".lent_logo").css("visibility", "visible");
        else
         $(".lent_logo").css("visibility", "hidden");
    }
    
    function displayMessageForNotSupportedBrowserInternal() {
        document.getElementsByTagName("body")[0].innerHTML = "<div class='notSupported'>This site does not work correctly under this browser yet.<br />Please use Google Chrome, Opera, or Safari instead.</div>";
    }
    
    //public api
    self.loadApplicationModule = function () {
     var canCurrentBrowserHandleThisPage = detectIfBrowserIsCapableOfCorrectlyDisplayingThisPageInternal();
     if (canCurrentBrowserHandleThisPage) {
        showPageInternal();
        showOnePercentInternal();
        showLentEggInternal();
     }
     else {
        displayMessageForNotSupportedBrowserInternal();
     }
    };


    window.domainInfo = window.domainInfo || self;
    redirectToMobileVersionIfMobileBrowserDetectedInternal();
 }
)(window)